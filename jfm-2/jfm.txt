#延时 吞吐量O练习题

1. 一台分组交换机接收到一个分组并决定该分组应当转发的链路。当某分组到达时,另一个分组正在该出链路上被发送到一半,还有4个其他分组正在等待传输。这些分组以到达的次序传输。假定所有分组是1500bytes并且链路速率是2Mbps。该分组的排队时延时多少?
167ms

2. 假定有N个分组同时到达一条当前没有分组传输或排队的链路。每个分组长为L,链路传输速率为R。对于N个分组而言,其平均排队时延时多少?


3. 接上题,现在假定每隔LN/R秒就有N个分组同时达到链路。一个分组的平均排队时延时多少?


4. 考虑路由器缓存中的排队时延。忽略传播时延和处理时延。令I表示流量强度;I=La/R。假定排队时延的形势为 IL/R(1-I),其中 I<1。a.写出总时延公式 b.令a表示在一条链路上分组的到达率(分组/秒 为单位),令u表示一条链路上分组的传输率(分组/秒)。基于上述公式写出以a和u表示的总延时公式

#应用层练习
1. Http与Https的区别
Http是不加密传送，Https是加密传送

2. URI和URL的区别
URI是统一资源标识符，URL是统一资源定位符

3. HTTPS工作原理
1）、首先Bob弄到了两把钥匙：公钥和私钥。
2）、Bob自己保留下了私钥，把公钥复制成三份送给了他的三个好朋友Pat、Doug和Susan。
3）、此时，Bob总算可以安心地和他的好朋友愉快地通信了。比如Susan要和他讨论关于去哪吃午饭的事情，Susan就可以先把自己的内容（明文）首先用Bob送给他的公钥做一次加密，然后把加密的内容传送给Bob。Bob收到信后，再用自己的私钥解开信的内容。
4）、Bob看完信后，决定给Susan回一封信。为了防止信的内容被篡改（或者别人伪装成他的身份跟Susan通信），他决定先对信的内容用hash算法做一次处理，得到一个字符串哈希值，Bob又用自己的私钥对哈希值做了一次加密得到一个签名，然后把签名和信（明文的）一起发送给Susan。
5）、Susan接收到了Bob的信，首先用Bob给的公钥对签名作了解密处理，得到了哈希值A，然后Susan用了同样的Hash算法对信的内容作了一次哈希处理，得到另外一个哈希值B，对比A和B，如果这两个值是相同的，那么可以确认信就是Bob本人写的，并且内容没有被篡改过。
6）、此时，另外一种比较复杂出现了，Bob是通过网络把公钥寄送给他的三个好朋友的，有一个不怀好意的家伙Jerry截获了Bob给Doug的公钥。Jerry开始伪装成Bob跟Doug通信，Doug感觉通信的对象不像是Bob，但是他又无法确认。
7）、Bob最终发现了自己的公钥被Jerry截获了，他感觉自己的公钥通过网络传输给自己的小伙伴似乎也是不安全的，不怀好意的家伙可以截获这个明文传输的公钥。为此他想到了去第三方权威机构“证书中心”（certificate authority，简称CA）做认证。证书中心用自己的私钥对Bob的公钥和其它信息做了一次加密。这样Bob通过网络将数字证书传递给他的小伙伴后，小伙伴们先用CA给的公钥解密证书，这样就可以安全获取Bob的公钥了。

4. 一次完整的HTTP请求所经历的7个步骤
1）、建立TCP连接
2）、Web浏览器向Web服务器发送请求命令 
3）、Web浏览器发送请求头信息 
4）、 Web服务器应答 
5）、Web服务器发送应答头信息 
6）、Web服务器向浏览器发送数据 
7）、Web服务器关闭TCP连接 

5. 常见的HTTP相应状态码
1xx:信息



100 Continue
服务器仅接收到部分请求，但是一旦服务器并没有拒绝该请求，客户端应该继续发送其余的请求。

101 Switching Protocols
服务器转换协议：服务器将遵从客户的请求转换到另外一种协议。



2xx:成功


200 OK
请求成功（其后是对GET和POST请求的应答文档）

201 Created
请求被创建完成，同时新的资源被创建。

202 Accepted
供处理的请求已被接受，但是处理未完成。

203 Non-authoritative Information
文档已经正常地返回，但一些应答头可能不正确，因为使用的是文档的拷贝。

204 No Content
没有新文档。浏览器应该继续显示原来的文档。如果用户定期地刷新页面，而Servlet可以确定用户文档足够新，这个状态代码是很有用的。

205 Reset Content
没有新文档。但浏览器应该重置它所显示的内容。用来强制浏览器清除表单输入内容。

206 Partial Content
客户发送了一个带有Range头的GET请求，服务器完成了它。



3xx:重定向



300 Multiple Choices
多重选择。链接列表。用户可以选择某链接到达目的地。最多允许五个地址。

301 Moved Permanently
所请求的页面已经转移至新的url。

302 Moved Temporarily
所请求的页面已经临时转移至新的url。

303 See Other
所请求的页面可在别的url下被找到。

304 Not Modified
未按预期修改文档。客户端有缓冲的文档并发出了一个条件性的请求（一般是提供If-Modified-Since头表示客户只想比指定日期更新的文档）。服务器告诉客户，原来缓冲的文档还可以继续使用。

305 Use Proxy
客户请求的文档应该通过Location头所指明的代理服务器提取。

306 Unused
此代码被用于前一版本。目前已不再使用，但是代码依然被保留。

307 Temporary Redirect
被请求的页面已经临时移至新的url。



4xx:客户端错误



400 Bad Request
服务器未能理解请求。

401 Unauthorized
被请求的页面需要用户名和密码。

401.1
登录失败。
401.2
服务器配置导致登录失败。
401.3
由于 ACL 对资源的限制而未获得授权。
401.4
筛选器授权失败。
401.5
ISAPI/CGI 应用程序授权失败。
401.6
访问被 Web 服务器上的 URL 授权策略拒绝。这个错误代码为 IIS 6.0 所专用。

402 Payment Required
此代码尚无法使用。

403 Forbidden
对被请求页面的访问被禁止。

403.1
执行访问被禁止。
403.2
读访问被禁止。
403.3
写访问被禁止。
403.4
要求 SSL。
403.5
要求 SSL 128。
403.6
IP 地址被拒绝。
403.7
要求客户端证书。
403.8
站点访问被拒绝。
403.9
用户数过多。
403.10
配置无效。
403.11
密码更改。
403.12
拒绝访问映射表。
403.13
客户端证书被吊销。
403.14
拒绝目录列表。
403.15
超出客户端访问许可。
403.16
客户端证书不受信任或无效。
403.17
客户端证书已过期或尚未生效。
403.18
在当前的应用程序池中不能执行所请求的 URL。这个错误代码为 IIS 6.0 所专用。
403.19
不能为这个应用程序池中的客户端执行 CGI。这个错误代码为 IIS 6.0 所专用。
403.20
Passport 登录失败。这个错误代码为 IIS 6.0 所专用。

404 Not Found
服务器无法找到被请求的页面。

404.0
没有找到文件或目录。
404.1
无法在所请求的端口上访问 Web 站点。
404.2
Web 服务扩展锁定策略阻止本请求。
404.3
MIME 映射策略阻止本请求。

405 Method Not Allowed
请求中指定的方法不被允许。

406 Not Acceptable
服务器生成的响应无法被客户端所接受。

407 Proxy Authentication Required
用户必须首先使用代理服务器进行验证，这样请求才会被处理。

408 Request Timeout
请求超出了服务器的等待时间。

409 Conflict
由于冲突，请求无法被完成。

410 Gone
被请求的页面不可用。

411 Length Required
"Content-Length" 未被定义。如果无此内容，服务器不会接受请求。

412 Precondition Failed
请求中的前提条件被服务器评估为失败。

413 Request Entity Too Large
由于所请求的实体的太大，服务器不会接受请求。

414 Request-url Too Long
由于url太长，服务器不会接受请求。当post请求被转换为带有很长的查询信息的get请求时，就会发生这种情况。

415 Unsupported Media Type
由于媒介类型不被支持，服务器不会接受请求。

416 Requested Range Not Satisfiable
服务器不能满足客户在请求中指定的Range头。

417 Expectation Failed
执行失败。

418
 锁定的错误。



5xx:服务器错误



500 Internal Server Error
请求未完成。服务器遇到不可预知的情况。

500.1
应用程序正忙于在 Web 服务器上重新启动。
500.2
Web 服务器太忙。
500.3不允许直接请求 Global.asa。
500.4
UNC 授权凭据不正确。这个错误代码为 IIS 6.0 所专用。
500.5
URL 授权存储不能打开。这个错误代码为 IIS 6.0 所专用。
500.6内部 ASP 错误。

501 Not Implemented
请求未完成。服务器不支持所请求的功能。

502 Bad Gateway
请求未完成。服务器从上游服务器收到一个无效的响应。

502.1
CGI 应用程序超时。　・
502.2
CGI 应用程序出错。
503 Service Unavailable
请求未完成。服务器临时过载或当机。

504 Gateway Timeout
网关超时。

505 HTTP Version Not Supported
服务器不支持请求中指明的HTTP协议版本

6. TCP协议和UDP协议的区别是什么
TCP：TCP协议是建立在IP协议之上的。TCP协议负责在两台计算机之间建立可靠连接，保证数据包按顺序到达。TCP协议会通过握手建立连接，然后，对每个IP包编号，确保对方按顺序收到，如果包丢掉了，就自动重发。
UDP：不需要建立连接，只需要知道对方的IP地址和端口号，就可以直接发数据包。但是，能不能到达就不知道了。速度比tcp发送数据快

7. TCP建立连接的过程采用三次握手，已知第三次握手报文的发送序列号为555，确认序列号为6666，请问第二次握手报文的发送序列号和确认序列号分别为？
第二次握手报文的发送序列号为：6665
第二次握手报文的确认序列号为：555

8. 简述tcp ip四层模型
1、主机到网络层　　
　　
实际上TCP/IP参考模型没有真正描述这一层的实现，只是要求能够提供给其上层-网络互连层一个访问接口，以便在其上传递IP分组。由于这一层次未被定义，所以其具体的实现方法将随着网络类型的不同而不同。　　
　　
2、网络互连层　　
　　
网络互连层是整个TCP/IP协议栈的核心。它的功能是把分组发往目标网络或主机。同时，为了尽快地发送分组，可能需要沿不同的路径同时进行分组传递。因此，分组到达的顺序和发送的顺序可能不同，这就需要上层必须对分组进行排序。　　
　　
网络互连层定义了分组格式和协议，即IP协议（Internet Protocol）。　　
　　
网络互连层除了需要完成路由的功能外，也可以完成将不同类型的网络（异构网）互连的任务。除此之外，网络互连层还需要完成拥塞控制的功能。　　
　　
3、传输层　　
　　
在TCP/IP模型中，传输层的功能是使源端主机和目标端主机上的对等实体可以进行会话。在传输层定义了两种服务质量不同的协议。即：传输控制协议TCP（transmission control protocol）和用户数据报协议UDP（user datagram protocol）。　　
　　
TCP协议是一个面向连接的、可靠的协议。它将一台主机发出的字节流无差错地发往互联网上的其他主机。在发送端，它负责把上层传送下来的字节流分成报文段并传递给下层。在接收端，它负责把收到的报文进行重组后递交给上层。TCP协议还要处理端到端的流量控制，以避免缓慢接收的接收方没有足够的缓冲区接收发送方发送的大量数据。　　
　　
UDP协议是一个不可靠的、无连接协议，主要适用于不需要对报文进行排序和流量控制的场合。　　
　　
4、应用层　　
　　
TCP/IP模型将OSI参考模型中的会话层和表示层的功能合并到应用层实现。　　
　　
应用层面向不同的网络应用引入了不同的应用层协议。其中，有基于TCP协议的，如文件传输协议（File Transfer Protocol，FTP）、虚拟终端协议（TELNET）、超文本链接协议（Hyper Text Transfer Protocol，HTTP），也有基于UDP协议的。

9. 简述 osi七层模型
1、物理层
利用传输介质为数据链路层提供物理连接，实现比特流的透明传输。
2、数据链路层
通过各种控制协议，将有差错的物理信道变为无差错的、能可靠传输数据帧的数据链路。
3、网络层
通过路由选择算法，为报文或分组通过通信子网选择最适当的路径。该层控制数据链路层与传输层之间的信息转发，建立、维持和终止网络的连接。
4、传输层
向用户提供可靠的端到端的差错和流量控制，保证报文的正确传输。传输层的作用是向高层屏蔽下层数据通信的细节，即向用户透明地传送报文。
5、会话层
向两个实体的表示层提供建立和使用连接的方法。将不同实体之间的表示层的连接称为会话。因此会话层的任务就是组织和协调两个会话进程之间的通信，并对数据交换进行管理。
6、表示层
数据格式处理：协商和建立数据交换的格式，解决各应用程序之间在数据格式表示上的差异。
数据的编码：处理字符集和数字的转换。例如由于用户程序中的数据类型（整型或实型、有符号或无符号等）、用户标识等都可以有不同的表示方式，因此，在设备之间需要具有在不同字符集或格式之间转换的功能。
压缩和解压缩：为了减少数据的传输量，这一层还负责数据的压缩与恢复。
数据的加密和解密：可以提高网络的安全性。
7、应用层
用户接口：应用层是用户与网络，以及应用程序与网络间的直接接口，使得用户能够与网络进行交互式联系。
实现各种服务：该层具有的各种应用程序可以完成和实现用户请求的各种服务。

10. dns是什么 dns是哪一层协议
dns是域名解析，dns是应用层的协议

11. arp是哪一层协议
网络层

12. wifi是哪一层协议
数据链路层和物理层

13. 简述cdn作用
CDN解决的是如何将数据快速可靠从源站传递到用户的问题。用户获取数据时，不需要直接从源站获取，通过CDN对于数据的分发，用户可以从一个较优的服务器获取数据，从而达到快速访问，并减少源站负载压力的目的。

#运输层网络层练习题
14. 服务器发生close wait是在什么时候
发生在第二次挥手和第三次挥手之间

15. 简述syn洪攻击
SYN攻击是客户端向服务器发送SYN报文之后就不再响应服务器回应的报文，由于服务器在处理TCP请求时，会在协议栈留一块缓冲区来存储握手的过程，如果超过一定的时间没有接收到客户端的报文，那么本次连接在协议栈中存储的数据就会被丢弃。攻击者如果利用这段时间发送了大量的连接请求，全部挂起在半连接状态，这样将不断消耗服务器资源，直到拒接服务。 

16. 156.123.32.13 是哪一类ip地址
B类地址

17. 主机ip地址为 193.32.5.22 掩码为 255.255.255.192 网络地址为多少,广播地址为多少
网络地址 193.32.5.0
广播地址 193.32.5.31

18. icmp是哪一层协议
icmp是网络层协议：它是TCP/IP协议族的一个子协议，用于在IP主机、路由器之间传递控制消息。控制消息是指网络通不通、主机是否可达、路由是否可用等网络本身的消息。这些控制消息虽然并不传输用户数据，但是对于用户数据的传递起着重要的作用。

19. get方法和post方法的不同
GET ：从指定的资源请求数据。
POST ： 向指定的资源提交要被处理的数据

20. 简述DOS攻击 和DDOS攻击
DoS：是Denial of Service的简称，即拒绝服务
最常见的DoS攻击有计算机网络带宽攻击和连通性攻击。
DDOS：分布式拒绝服务
借助于客户/服务器技术，将多个计算机联合起来作为攻击平台，对一个或多个目标发动DDoS攻击，从而成倍地提高拒绝服务攻击的威力。

21. tcp报文头中,首部长度的作用是什么?首部长度是多少位?首部的位数为二进制表现方式,那么首部表现成十进制的最大数字是多少?tcp首部最大长度是多少,他和首都长度段有什么联系?tcp首部可选数据字段是多长?
作用：TCP控制字段标志：URG、ACK、PSH、RST、SYN、FIN
SYN:表示建立连接
FIN:表示关闭连接
ACK:表示响应
RST:表示连接复位，连接重置。
首部长度是20位，十进制的最大数字是6120，他和首都长度段有数据部分加首部长度加IP长度等于IP数据报的最大长度了，tcp首部最大长度，tcp首部可选数据字段是4位

22. tcp最大端口号是多少?为什么?linux系统能开启多少个端口，为什么？linux操作系统端口号和进程号的关系是什么?
tcp最大端口号是：50000，因为MaxUserPort限制了端口号的配置。
inux系统能开启64511个端口，因为linux系统的最大可用socket端口是65535，默认1024；所以65535-1024=64511

23. tcp三次握手中 第三次握手首部中syn值是多少 为什么?


24. tcp协议中 ISN是什么意思?ISN的值一定是1吗?BSD使用的ISN值的方案是什么?不同的连接ISN一样吗,如果不一样如何确定?（参考RFC 793）
ISN随机生成算法，ISN的值不一定是1，

25. tcp协议中 序列号是如何增长的,是每次加1还是随机增长还是其他方式增长?第三次握手时 ack序列号是否增加 为什么?第一次握手响应时ack序列号加多少 为什么?
序列号是随机增长，

26. mss是什么?mss在什么时候确定?tcp报文最大长度理论上是多少 为什么?实际上面是多少 为什么?
mss是最大报文段长度，协商的TCP MSS参数小于设备的MTU的值，tcp报文最大长度理论上是65535字节，实际上面是65515字节，因为有20字节是部首的固定字节。

27. tcp最大长度是多少,为什么?
tcp最大长度是1460，因为MSS就是TCP数据包每次能够传?输的最大数据分段。为了达到最佳的传输效能TCP协议在建立连接的时候通常要协商双方的MSS值，这个值TCP协议在实现的时候往往用MTU值代替（需?要减去IP数据包包头的大小20Bytes和TCP数据段的包头20Bytes）所以往往MSS为1460。通讯双方会根据双方提供的MSS值得最小值?确定为这次连接的最大MSS值。?

28. tcp窗口/mss大小如何确定,在什么时候,什么位置确定窗口/mss大小?
tcp窗口/mss大小用MTU值代替（需 要减去IP数据包包头的大小20Bytes和TCP数据段的包头20Bytes）

29. 如何理解tcp的半关闭(half-close)？什么是全双工?
由TCP的半关闭造成的终止一个连接要经过4次握手，数据在两个方向上能同时传递是全双工。

30. 为什么握手需要三次?为什么关闭连接需要四次?
为什么握手需要三次？
因为需要询问回复同意三个程序
为什么关闭连接需要四次?
1、当主机A确认发送完数据且知道B已经接受完了，想要关闭发送数据口（当然确认信号还是可以发），就会发FIN给主机B。
2、主机B收到A发送的FIN，表示收到了，就会发送ACK回复。
3、但这是B可能还在发送数据，没有想要关闭数据口的意思，所以FIN与ACK不是同时发送的，而是等到B数据发送完了，才会发送FIN给主机A。
4、A收到B发来的FIN，知道B的数据也发送完了，回复ACK， A等待2MSL以后，没有收到B传来的任何消息，知道B已经收到自己的ACK了，A就关闭链接，B也关闭链接了。

31. GBN的定时器有几个 SR的定时器有几个


32. 为什么说tcp协议是面向连接的?
Tcp会为每一个连接建立一个会话

33. GBN协议中,接收方窗口大小是多少


34. GBN协议中,需要对大于当前期望收到的分组序号的序号做确认吗?SR中需要确认吗?


35. TCP/IP的中文解释是什么?
TCP的中文解释是传输控制协议
IP的中文解释是知识产权

36. 假设链路层MTU为 1600 那么MSS最大为多少
1600

37. MSS指的是什么的大小
TCP提交给IP层最大分段大小

38. 计算机的端口为什么最大是65535
 2^16-1

39. a. 假定你有下列2个字节: 01011100和01100101。者两个字节之和的反码是什么?b.假定你有下列2个字节: 11011010和01100101这两个的反码和是多少?c. 1bit的差错将可能检测不出来吗?2bit呢?
01011100和01100101。者两个字节之和的反码：11000001
11011010和01100101这两个的反码和是：00111111
